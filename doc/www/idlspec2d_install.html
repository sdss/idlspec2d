<HTML>
<HEAD><TITLE>SDSS IDLSPEC2D Installation</TITLE></HEAD>

<BODY TEXT="#000000" LINK="#0000ff" VLINK="#800080" BGCOLOR="#eeeeee"
ALINK="#FF0000">

<CENTER><H1 ALIGN="center">SDSS IDLSPEC2D Installation</H1></CENTER>

<P>
This document explains how to install the idlutils,idlspec2d products
needed for reducing SDSS spectroscopic data.

<P>
In this document:
<UL>
  <LI><A HREF="#install_ups">Installing w/UPS</A>
  <LI><A HREF="#install_cvs">Installing w/out UPS</A>
  <LI><A HREF="#install_tar">Installing from a tar file</A>
</UL>

<H2><A NAME="install_ups">Installing w/UPS</A></H2>

<P>
Check out a tagged version, such as v4_3_1, of both "idlutils" and "idlspec2d".
These should be checked out to your home directory, then installed in the
products directory (/p).

<OL>

<LI>
To avoid typing mistakes, I start by defining two environment variables
for the version numbers:
<DL><DD><PRE>
  % setenv IDLUTILS_VERS v4_3_1
  % setenv IDLSPEC2D_VERS v4_3_1
</PRE></DD></DL>

<LI>
Install this version of "idlutils" and declare it current:
<DL><DD><PRE>
  % setup sdsscvs # Only needed on machines set up by Fermi
  % cd
  % cvs export -r $IDLUTILS_VERS idlutils
  % cd ~/idlutils
  % setup -r ~/idlutils idlutils
  % setup sdsstools # Only needed on machines set up by Fermi
  % sdssmake -idl -opt -debug
  % setenv IDLUTILS_DIR /p/idlutils/$IDLUTILS_VERS
  % sdssmake install
  % ups declare -f Linux+2 -m idlutils.table \
    -r /p/idlutils/$IDLUTILS_VERS -c idlutils $IDLUTILS_VERS
</PRE></DD></DL>

<LI>
Install this version of "idlspec2d" with a dependency on the above
version of "idlutils", and declare it current:
<DL><DD><PRE>
  % cd
  % cvs export -r $IDLSPEC2D_VERS idlspec2d
  % cd ~/idlspec2d
  % setup -r ~/idlspec2d idlspec2d
  % setup idlutils $IDLUTILS_VERS  # This makes the dependency
  % sdssmake -idl -opt -debug
  % setenv IDLSPEC2D_DIR /p/idlspec2d/$IDLSPEC2D_VERS
  % sdssmake install
  % ups declare -f Linux+2 -m idlspec2d.table \
    -r /p/idlspec2d/$IDLSPEC2D_VERS -c idlspec2d $IDLSPEC2D_VERS
</PRE></DD></DL>

</OL>

<H2><A NAME="install_cvs">Installing w/out UPS</A></H2>

<OL>
<LI>
IDL must already be installed on your system, and
the environment variables IDL_DIR and IDL_PATH must already be set.

<LI>
Check out a tagged version, such as v4_3_1, of both "idlutils" and "idlspec2d",
into your home directory (for this example).
To avoid typing mistakes, I start by defining two environment variables
for the version numbers:
<DL><DD><PRE>
  % setenv IDLUTILS_VERS v4_3_1
  % setenv IDLSPEC2D_VERS v4_3_1
  % setup sdsscvs # Only needed on machines set up by Fermi
  % cd
  % cvs co -r $IDLUTILS_VERS idlutils
  % cvs co -r $IDLSPEC2D_VERS idlspec2d
</PRE></DD></DL>

<LI>
Set the environment variables.  From a "csh" or "tcsh" shell:
<DL><DD><PRE>
  % setenv IDLUTILS_DIR $HOME/idlutils
  % setenv IDLSPEC2D_DIR $HOME/idlspec2d
  % set path=( $IDLUTILS_DIR/bin $IDLSPEC2D_DIR/bin $path )
  % setenv IDL_PATH +{$IDLUTILS_DIR}/goddard/pro:{$IDL_PATH}
  % setenv IDL_PATH +{$IDLUTILS_DIR}/pro:{$IDL_PATH}
  % setenv IDL_PATH +{$IDLSPEC2D_DIR}/pro:{$IDL_PATH}
</PRE></DD></DL>
You may wish to add the above lines to your ``~/.cshrc'' file.

<LI>
Build the code:
<DL><DD><PRE>
  % setup idl # Only needed on machines set up by Fermi
  % cd $IDLUTILS_DIR
  % evilmake all
  % cd $IDSPEC2D_DIR
  % evilmake all
</PRE></DD></DL>

</OL>

<H2><A NAME="install_tar">Installing from a tar file</A></H2>

<OL>

<LI>
IDL must already be installed on your system, and
the environment variables IDL_DIR and IDL_PATH must already be set.

<LI>
Unpack the tar files for both "idlutils" and "idlspec2d":
<DL><DD><PRE>
  % tar xvf idlutils*.tar
  % tar xvf idlspec2d*.tar
</PRE></DD></DL>

<LI>
Continue from <A HREF="#install_cvs">step 3</A> of the CVS-install
instructions.

</OL>

<HR>

<ADDRESS> Maintained by
<A HREF="mailto:schlegel@astro.princeton.edu">David Schlegel</A>
at Princeton University, Dept. of Astrophysics, Peyton Hall, Princeton NJ 08544
</ADDRESS>

</BODY>

</HTML>
