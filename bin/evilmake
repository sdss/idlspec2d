#!/bin/sh
echo "OS type detected: "`uname`
case `uname` in
	"SunOS") if [  -d /proc ]; then
			SO_EXT=so
			X_CFLAGS="-K pic"
			X_LD_FLAGS=-G
		fi
	;;
	"HP-UX")
		SO_EXT=sl
		X_CFLAGS="+z -Aa -D_HPUX_SOURCE"
		X_LD_FLAGS=-b;;
	"IRIX" )
		SO_EXT=so
		X_CFLAGS="-32 -KPIC"
		X_LD_FLAGS="-shared -32";;
	"IRIX64" )
		SO_EXT=so
		X_CFLAGS="-32 -KPIC"
		X_LD_FLAGS="-shared -32";;
	"OSF1" )
		SO_EXT=so
		X_LD_FLAGS="-S -shared";;
	"Linux" )
		SO_EXT=so
		X_CFLAGS="-fPIC -g -Wall"
		X_LD_FLAGS=-shared ;;
	*) echo "This system is not supported" >&2
		exit 1;;
esac

export SO_EXT X_CFLAGS X_LD_FLAGS

make "$@"
