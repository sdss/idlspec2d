#!/usr/bin/env python3

from boss_drp.prep import flag_manual_cal

import argparse

if __name__ == '__main__':
    
    
    parser = argparse.ArgumentParser(description='Build spManCal.par file to flag manual alternative calibration frames for spPlan')
    parser.add_argument('-o', '--observatory', '--obs', required=True, help='observatory', dest='obs', type=str.lower, choices=['apo', 'lco'])
    parser.add_argument('-m', '--mjd', type=int, help='MJD',required=True)
    parser.add_argument('-f', '--field', type=str, help='FieldID',required=True)
    parser.add_argument('-e', '--expid', type=int, help='Exposure ID to manually set the calibration frame exposure ID',required=False, default= None)
    parser.add_argument('-t', '--type', type=str.lower, help='Calibration Type',required=True, choices=['arc','flat'])
    parser.add_argument('--nogit', help='Skip automatic git add')
    args = parser.parse_args()

    
    flag_manual_cal(type=args.type, field=args.field, mjd=args.mjd, obs = args.obs, expid=args.expid, nogit=args.nogit)
